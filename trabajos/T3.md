# <img src="https://julianodb.github.io/SISTEMAS_ELECTRONICOS_PARA_INGENIERIA_BIOMEDICA/img/logo_fing.png?raw=true" align="right" height="45"> Trabajo 3 de Sistemas Electrónicos

#### Segundo Semestre de 2025

## Introducción

Este semestre, su grupo es responsable de diseñar y fabricar un prototipo de estetoscopio electrónico para aplicar los conocimientos y tecnicas relacionados a la asignatura de Sistemas Electrónicos.

El prototipo debe tener las siguientes funcionalidades:

1. Medir, amplificar, filtrar y reproducir los sonidos corporales
1. Permitir controlar el volúmen
1. Estimar y permitir la visualización de la frecuencia cardíaca (Heart Rate - HR)
1. Emitir una señal de luz cuando hay un pulso cardíaco

El sistema que deben diseñar puede ser dividido en los siguientes bloques:

![TX](../img/TX.png)

Figura 1: División del sistema del estetoscopio electrónico en bloques

En el tercer trabajo, los objetivos son los siguientes:

1. Estudiar la respuesta transitoria de los circuitos del micrófono y altavoz
1. Diseñar el circuito generador de pulso
1. Diseñar el circuito del Filtro 2

El trabajo será un ensayo que debe contener la siguiente información:

- Identificación del grupo (color)
- Identificación de los integrantes del grupo (nombres, apellidos y RUT)
- La información que se pide en cada una de las siguientes sesiones de este documento

## 1. Respuesta transitoria de los circuitos del micrófono y altavoz

## 2. Generador de pulso

Tanto la sesión 2 como la sesión 3 de este trabajo se basan en el siguiente circuito:

<img src="https://julianodb.github.io/electronic_circuits_diagrams/RC_highpass.png" width="200">

Figura 2: Filtro pasa-alta

1. Como trabajo preliminar, determinen la respuesta del circuito en el domínio del tiempo ($V_{out}(t)$) para una entrada escalón de amplitud 5 V ($V_{in}(t)$). Pueden asumir que $R$ y $C$ son valores constantes conocidos. (1pt)

Para medir la frecuencia cardíaca, el circuito del prototipo debe generar un pulso de voltaje con duración fija cada vez que se detecta un latido cardíaco. Sin embargo, la señal derivada del fotopletismogramo tiene pulsos de voltaje con duración variable, que depende del tiempo de sístole, diástole y propiedades del vaso sanguíneo bajo medición. Para normalizar la duración de dichos pulsos, vamos a diseñar un generador de pulsos.

El primer paso es convertir el pulso que viene de la señal del fotopletismógrafo en un pulso más corto, pero de duración predecible. Eso se logrará con un circuito de gatillo. La primera parte del circuito gatillo se muestra a continuación:

<img src="https://julianodb.github.io/electronic_circuits_diagrams/T3_high_pass.png" width="200">

Figura 3: Filtro pasa-alta para el generador de pulso

2. Elijan un valor para $R_{14}$ de tal forma que la corriente que pasa por este está entre $50\ \mu A$ y $500\ \mu A$ cuando $V_{out}=1\ V$. El valor elegido debe ser uno de los valores disponibles en el anexo. (0.5pt)

3. Elijan un valor de $C_3$ de tal forma que la respuesta calculada en el ítem 1 ($V_{out}(t)$) cuando $R=R_{14}$ se mantiene por sobre 2 V durante al menos 1 ms, y como máximo por 10 ms. El valor de $C_3$ debe ser uno de los valores de capacitores disponibles en el anexo. (0.5pt)

Una vez que se tiene un voltaje $V_{out}$ que se mantiene por sobre 2 V durante algunos milisegundos, este se puede utilizar para encender un transistor en modo saturado durante dicho período de tiempo. El circuito a continuación implementa esta idea:

<img src="https://julianodb.github.io/electronic_circuits_diagrams/T3d.png" width="400">

Figura 4: Generador de pulso.

Se agrega el diodo $D_1$ para evitar que la base del transistor se exponga a un voltaje negativo cuando $V_{in}$ cambia de 5 V a 0 V. En el datasheet del transistor que utilizaremos, por ejemplo, se indica que el maximo voltaje emisor-base ($V_{EB}$) es de 5 V.

4. Elijan un valor de $R_{15}$ que esté disponible en el anexo y de tal forma que el transistor está saturado con un $\beta_{forzado} \approx 20$ cuando la corriente de base es igual a la corriente elegida en el ítem 2. Considere las siguientes características para el transistor $Q_7$: (0.5pt)

 | $V_{CE_{SAT}}$ | $V_{BE_{SAT}}$ | $\beta$ |
 | -- | -- | -- |
 | 100 mV | 700 mV | 400 |

Para finalizar el circuito, agregaremos la resistencia $R_{12} = R_{14}$  para descargar el capacitor $C_3$ cuando el voltaje de entrada es cero, y la resistencia $R_{13} = R_{15}$ para minimizar la corriente de fuga cuando el transistor está apagado.

<img src="https://julianodb.github.io/electronic_circuits_diagrams/T3e.png" width="400">

Figura 5: Circuito generador de pulso completo

## 3. Filtro 2



## Plazo de entrega: 23:59, 07 de Abril de 2025

## Anexo

I. Valores de Resistencias disponibles:

|   |  |        |       |  |
|------|------|-----------|------------|-------|
| 10Ω  | 220Ω | 1kΩ       | 6.8kΩ      | 100kΩ |
| 22Ω  | 270Ω | 2kΩ       | 10kΩ       | 220kΩ |
| 47Ω  | 330Ω | 2.2kΩ     | 20kΩ       | 300kΩ |
| 100Ω | 470Ω | 3.3kΩ     | 47kΩ       | 470kΩ |
| 150Ω | 510Ω | 4.7kΩ     | 51kΩ       | 680kΩ |
| 200Ω | 680Ω | 5.1kΩ     | 68kΩ       | 1MΩ   |

II. Valores de Capacitores Ceramicos disponibles:

|   |  |        |       |  |
|------|------|-----------|------------|-------|
| 100 pF  | 220 pF | 330 pF | 470 pF | 680 pF |
| 1 nF  | 2.2 nF | 3.3 nF | 4.7 nF | 6.8 nF |
| 10 nF  | 22 nF | 33 nF | 47 nF | 68 nF |
| $0.1\ \mu F$  | $0.22\ \mu F$ | $0.33\ \mu F$| $0.47\ \mu F$ | $0.68\ \mu F$ |
| $1\ \mu F$  | - | - | $4.7\ \mu F$ | - |
| $10\ \mu F$  | $22\ \mu F$ | - | - | - |
