# <img src="https://julianodb.github.io/SISTEMAS_ELECTRONICOS_PARA_INGENIERIA_BIOMEDICA/img/logo_fing.png?raw=true" align="right" height="45"> Trabajo 6 de Sistemas Electrónicos

#### Segundo Semestre de 2025

## Introducción

Este semestre, su grupo es responsable de diseñar y fabricar un prototipo de estetoscopio electrónico para aplicar los conocimientos y tecnicas relacionados a la asignatura de Sistemas Electrónicos.

El prototipo debe tener las siguientes funcionalidades:

1. Medir, amplificar, filtrar y reproducir los sonidos corporales
1. Permitir controlar el volúmen
1. Estimar y permitir la visualización de la frecuencia cardíaca (Heart Rate - HR)
1. Emitir una señal de luz cuando hay un pulso cardíaco

El sistema que deben diseñar puede ser dividido en los siguientes bloques:

![TX](../img/TX.png)

Figura 1: División del sistema del estetoscopio electrónico en bloques

En el sexto trabajo, los objetivos son los siguientes:

1. Diseñar el driver del indicador de pulso
1. Diseñar el gatillo en la salida del generador de pulso

El trabajo será un ensayo que debe contener la siguiente información:

- Identificación del grupo (color)
- Identificación de los integrantes del grupo (nombres, apellidos y RUT)
- La información que se pide en cada una de las siguientes sesiones de este documento

## 1. Driver del indicador de pulso

Cada vez que el circuito de la placa 2 detecta un pulso cardíaco se genera un pulso de voltaje de 5 V con una duración predeterminada. Para entregar retroalimentación visual del correcto funcionamiento del sistema de detección, el prototipo debe tener una luz indicadora de pulso que se enciende cada vez que hay una detección. En el trabajo anterior se diseñó el siguiente circuito capaz de encender un LED del color del equipo:

<img src="https://julianodb.github.io/electronic_circuits_diagrams/resistance_led_5.png" width="60">

Figura 2: Circuito de la indicación luminosa

En este trabajo, el objetivo es modificar el circuito de tal forma que se encienda solamente cuando el pulso de voltaje está en 5 V. Para cumplir con este objetivo, se empleará el MOSFET BSS806N.

1. Encuentren la hoja de datos del BSS806N y determinen (0.6pt):
    1. Su valor de $V_{GS(th)}$.
    1. Su valor de $R_{DS(ON)}$. Si necesario consideren que $I_D$ es igual al valor de corriente en el LED de la figura 2.
    1. Su valor de disipación de potencia maxima

El MOSFET se utilizará conforme el circuito de la figura 3 para controlar el encendido del LED. La señal de entrada $v_i$ es el pulso de corriente que está normalmente en 0 V y cambia a 5 V cuando se detecta un pulso.

<img src="https://julianodb.github.io/electronic_circuits_diagrams/resistance_led_mosfet.png" width="200">

Figura 3: Circuito del driver + indicación luminosa

2. Determinen el $V_{GS}$, $V_{DS}$, $I_G$ e $I_D$ del MOSFET cuando $v_i = 5\ V$. Utilicen el valor de $R_{22}$ elegido (y corregido) en el trabajo 5 y los parametros del LED determinados (y corregidos) en el mismo trabajo. (0.8pt)

3. Estimen cuanta potencia se disipa en el MOSFET cuando $v_i = 5\ V$. ¿ Es menos que la disipación maxima que permite el dispositivo ? (0.5pt)

4. Elijan un valor para la resistencia $R_{21}$ que sea igual a $R_G$ utilizada para la medición de los parametros dinamicos del BSS806N. El valor elegido debe ser un valor disponible en el anexo. En el caso de que no exista coincidencia exacta, utilicen el siguiente valor de resistencia disponible. (0.4pt)

5. Estimen cuanto tiempo se demora el LED en encenderse una vez que el pulso cambia de 0 a 5 V, y cuanto tiempo se demora en apagar cuando $v_i$ cambia de 5 a 0 V. (0.5pt)

## 2. Gatillo

La siguiente figura muestra el circuito generador de pulso diseñado en el Trabajo 3. $v_i$ es la señal de salida del detector de envolvente.

<img src="https://julianodb.github.io/electronic_circuits_diagrams/T6_comp1.png" width="400">

Figura 4: Generador de pulso diseñado en el trabajo 3

En este trabajo el objetivo es utilizar la señal de salida de dicho circuito para elevar el voltaje en una resistencia que es parte de un Trabajo futuro. Para cumplir con este objetivo se utilizará el MOSFET AO3401A, y se reordenará el circuito de la siguiente forma:

<img src="https://julianodb.github.io/electronic_circuits_diagrams/T6_comp2.png" width="500">

Figura 5: Generador de pulso modificado + gatillo

6. Determinen el valor de $v_o$ en DC. (1pt)

7. En el instante en que la salida del comparador cambia de +2.5 V a -2.5 V, se puede asumir que el capacitor actua como un corto-circuito. Calculen el valor del voltaje en la compuerta del MOSFET en dicha situación. Pueden asumir que $D_2$ conduce y que su numero de parte es 1N4148. ¿ El MOSFET se enciende ? (1pt)

8. Estimen cuanto tiempo $V_o$ demora en cambiar a su valor final una vez que la salida del comparador cambia de +2.5 V a -2.5 V. ¿ Es menor a 1 ms ? (0.5pt)

9. Elijan un valor de $R_{15}$ que sea el menor valor disponible en el anexo mayor que el $R_G$ utilizado para el calculo de los parametros dinamicos del datasheet del AO3401A (0.4pt)

10. Elijan un valor de $R_{14}$ que esté disponible en el anexo y que sea al menos 10 veces mayor que $R_{13}$. (0.3pt)

## Plazo de entrega: 23:59, 29 de Diciembre de 2025

## Anexo

Valores de Resistencias disponibles:

|   |  |        |       |  |
|------|------|-----------|------------|-------|
| 10Ω  | 220Ω | 1kΩ       | 6.8kΩ      | 100kΩ |
| 22Ω  | 270Ω | 2kΩ       | 10kΩ       | 220kΩ |
| 47Ω  | 330Ω | 2.2kΩ     | 20kΩ       | 300kΩ |
| 100Ω | 470Ω | 3.3kΩ     | 47kΩ       | 470kΩ |
| 150Ω | 510Ω | 4.7kΩ     | 51kΩ       | 680kΩ |
| 200Ω | 680Ω | 5.1kΩ     | 68kΩ       | 1MΩ   |