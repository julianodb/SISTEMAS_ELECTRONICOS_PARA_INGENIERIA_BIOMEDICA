# <img src="https://julianodb.github.io/SISTEMAS_ELECTRONICOS_PARA_INGENIERIA_BIOMEDICA/img/logo_fing.png?raw=true" align="right" height="45"> Sistemas Electrónicos 2023/02
## Prueba Escrita 2

1. Para realizar la adquisición de un electrocardiograma, es necesario medir la diferencia de voltaje entre electrodos que se posicionan en puntos específicos del paciente. Dicha diferencia de voltaje suele ser muy pequeña, del orden de pocos milivolts, por lo que requiere amplificación para poder graficarse y ser procesada. Considerando que la resistencia eléctrica de la interfaz piel-electrodo es de $R_S =56\ k\Omega$, y que se disponen de amplificadores con las características a continuación, determine el factor de amplificación de la señal $v_S$ de cada una de las siguientes configuraciones. Considere que el voltaje de salida de cada circuito es $v_o$. ¿ Cuál configuración permite amplificar más la señal de ECG ?

    1. Configuración 1: $Z_i = $, $Z_o = $, $A_{V_{NL}} = $. (0.5 pt)

       <img src="https://julianodb.github.io/electronic_circuits_diagrams/amplifier_thevenin_rs.png" width="400">

    1. Configuración 2: $Z_{i1} = $, $Z_{o1} = $, $A_{V_{NL1}} = $, $Z_{i2} = $, $Z_{o2} = $, $A_{V_{NL2}} = $. (0.75 pt)

       <img src="https://julianodb.github.io/electronic_circuits_diagrams/amplifier_thevenin_rs_double.png" width="400">
       
    1. Configuración 3: $Z_{i1} = $, $Z_{o1} = $, $A_{V_{NL1}} = $, $Z_{i2} = $, $Z_{o2} = $, $A_{V_{NL2}} = $. (0.75 pt)

       <img src="https://julianodb.github.io/electronic_circuits_diagrams/amplifier_thevenin_rs_double.png" width="400">

3. La figura 4 muestra un circuito de amplificador de instrumentación con la salida conectada a un circuito con LED.

    <img src="https://julianodb.github.io/electronic_circuits_diagrams/instrumentation_amplifier_plus_led.png" width="400">

    Figura 4: Circuito de Amplificador de Instrumentación + LED

    Datos:
    - $R_1 = R_2 = R_3 = R_4 = 20\ k\Omega$
    - $R_5 = R_6 = 10\ k\Omega$
    - $R_G = 1\ k\Omega$
    - $R_B = 10\ k\Omega$
    - $R_L = 330\ \Omega$
    - $V_{CC} = 10\ V$
    - $V_f$ del LED $= 3\ V$
    - Características del transistor Q:
        - $\beta = 50$
        - $V_{CE_{SAT}} = 0.3\ V$
        - $V_{BE} \approx 0.7\ V$ cuando la unión base-emisor está polarizada en directa.

    Determine:

    1. La relación entre la salida del amplificador de instrumentación, $v_o$, y sus entradas $V_1$ y $V_2$. (0.4 pt)
    2. Considerando que la impedancia de entrada de cada amplificador operacional es $1\ G\Omega$, calcule la impedancia de entrada del sistema para la entrada diferencial $V_2 - V_1$ (es decir, la resistencia entre los terminales $V_2$ y $V_1$). (0.4 pt)
    1. En qué modo está funcionando el transistor Q cuando la corriente directa en el LED es 10 mA. (0.4 pt)
    1. Para que valor de $v_o$ la corriente en el LED es 10 mA. (0.4 pt)
    1. Si $V_1 = 1\ V$, a que valor de $V_2$ corresponde el valor de $v_o$ calculado en el ítem anterior. (0.4 pt)

4. Para el circuito de la Figura 5, asumiendo que $R_1=R_2=3.3\ k\Omega$ y $C_1=C_2=3.3\ nF$ determine:

    <img src="https://julianodb.github.io/electronic_circuits_diagrams/sallen_key_high_2.png" width="400"> 

    Figura 5: Circuito con topología Sallen-Key.

    1. La(s) frecuencia(s) de corte en Hz. (0.4 pt)
    1. La ganancia en dB en corriente contínua.(0.4 pt)
    1. La ganancia en dB para una entrada con frecuencia 50 Hz. (0.4 pt)
    1. La ganancia en dB para una entrada con frecuencia 100 kHz. (0.4 pt)
    1. Qué tipo de filtro está implementado. (0.4 pt)

# Fórmulas

Corto Circuito Virtual: $V_+ = V_-$
$$ H(s) = \frac{v_o(s)}{v_i(s)} $$
$$ A_v(\omega) = || H(s=j\omega) ||$$
$$ A_{v_{dB}}(\omega) = 20 log\left(|| H(j\omega) ||\right)$$
$$ A_v(\omega_c) = A_v(2\pi f_c) = \frac{A_{v_{max}}}{\sqrt{2}}$$
$$ \phi(\omega) = arg\left( H(j\omega) \right) = tan^{-1} \left( \frac{Im\{H(j\omega)\}}{Re\{H(j\omega)\}} \right)$$

$$ V_T = \frac{kT}{q}$$
- $k$: Constante de Boltzmann. $k=1.38 * 10^{-23}\ J/K$
- $q$: Carga del electrón. $q=1.6*10^{-19}\ C$
$$I_E = I_C + I_B$$
- en modo activo ($V_{CE} > V_{CE_{SAT}}$):
$$I_C = \beta I_B $$
- en modo saturado ($0 < \beta_{forzado} < \beta$):
$$V_{CE} = V_{CE_{SAT}}$$
$$I_C = \beta_{forzado} I_B $$
- modelo híbrido-$\pi$ de pequeñas señales:
$$r_{\pi} = \frac{\beta V_T}{I_{C_Q}}$$
$$i_{C_{AC}} = \beta i_{B_{AC}} $$
$$A_V = \frac{v_{o_{AC}}}{v_{i_{AC}}}$$
